<?xml version="1.0" encoding="UTF-8"?>

<?import xal.app.scanner.*?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx/10.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="xal.app.scanner.FXMLController">
   <children>
            <SplitPane>
              <items>
                  <TabPane minWidth="300.0" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
                    <tabs>
                      <Tab text="Select">
                           <content>
                              <AnchorPane>
                                 <children>
                                    <Button id="scan_add_pv" layoutX="5.0" layoutY="14.0" mnemonicParsing="false" onAction="#handleScanAddPV" prefHeight="26.0" prefWidth="140.0" text="Add PV" />
                                    <Button id="scan_remove_pv" layoutX="150.0" layoutY="14.0" mnemonicParsing="false" onAction="#handleScanRemovePV" prefHeight="26.0" prefWidth="140.0" text="Remove PV" />
                                    <TableView fx:id="pvTable" editable="true" layoutY="57.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="57.0">
                                      <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
                                      <columns>
                                        <TableColumn fx:id="pvNameColumn"     maxWidth="5000" prefWidth="300" editable="false" text="Channels" />
                                        <TableColumn fx:id="scanColumnSelect" maxWidth="1000" sortable="false" text="Scan" />
                                        <TableColumn fx:id="readColumnSelect" maxWidth="1000" sortable="false" text="Read" />
                                      </columns>
                                    </TableView>
                                 </children>
                              </AnchorPane>
                           </content>
                      </Tab>
                        <Tab fx:id="tabConfigure" text="Configure">
                           <content>
                              <SplitPane dividerPositions="0.15, 0.7, 0.75" orientation="VERTICAL">
                                <items>
                                    <AnchorPane>
                                       <children>
                                          <TextField fx:id="delayBetweenMeas" accessibleHelp="Set the delay between measurements" layoutX="220.0" layoutY="27.0" onKeyReleased="#setDelayEdited" prefHeight="27.0" prefWidth="144.0" />
                                          <Text layoutX="36.0" layoutY="48.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Delay in seconds" />
                                          <Text layoutX="36.0" layoutY="72.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Measurements per point" />
                                          <TextField fx:id="measPerPoint" accessibleHelp="Number of measurements at each combo" layoutX="220.0" layoutY="57.0" onKeyReleased="#setMeasPerPointEdited" prefHeight="27.0" prefWidth="139.0" />
                                          <Button fx:id="measDelaySetButton" disable="true" layoutX="384.0" layoutY="23.0" mnemonicParsing="false" onAction="#setMeasurementDelay" text="Set" />
                                          <Button fx:id="nMeasPerSettingSetButton" disable="true" layoutX="384.0" layoutY="58.0" mnemonicParsing="false" onAction="#setNumberOfMeasPerSetting" text="Set" />
                                       </children>
                                    </AnchorPane>
                                    <TableView fx:id="listOfWriteables" editable="true" prefHeight="300">
                                      <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
                                      <columns>
                                        <TableColumn fx:id="listOfWriteablesShortVar" maxWidth="700" editable="false" text="Var" />
                                        <TableColumn fx:id="listOfWriteablesPV"       maxWidth="4000" editable="false" text="Full name" />
                                       <TableColumn fx:id="listOfWriteablesUnit"      maxWidth="700" editable="false" text="Unit" />
                                        <TableColumn fx:id="listOfWriteablesMin"      maxWidth="1000" sortable="false" text="Min" />
                                        <TableColumn fx:id="listOfWriteablesMax"      maxWidth="1000" sortable="false" text="Max" />
                                        <TableColumn fx:id="listOfWriteablesNpoints"  maxWidth="1000" text="Npoints" />
                                      </columns>
                                    </TableView>
                                    <Text strokeType="OUTSIDE" strokeWidth="0.0" text="Add constraints below (use x1,x2,..., +-*/&lt;&gt;=)" />
                                    <ListView fx:id="constraintsList" accessibleHelp="Accessible Help" accessibleText="Accessible Text" editable="true" />
                                </items>
                              </SplitPane>
                           </content>
                        </Tab>
                        <Tab fx:id="tabRun" text="Run">
                           <content>
                              <AnchorPane>
                                 <children>
                                    <Button layoutX="101.0" layoutY="47.0" mnemonicParsing="false" onAction="#handlePreCalculate" prefHeight="41.0" prefWidth="198.0" text="Pre-calculate" />
                                    <Text fx:id="textFieldNumMeas" layoutX="100.0" layoutY="155.0" strokeType="OUTSIDE" strokeWidth="0.0" textAlignment="CENTER" />
                                    <Text fx:id="textFieldTimeEstimate" layoutX="145.0" layoutY="185.0" strokeType="OUTSIDE" strokeWidth="0.0" textAlignment="CENTER" />
                                    <Text fx:id="textFieldWarnSave" id="text-warning" layoutX="110.0" layoutY="215.0" strokeType="OUTSIDE" strokeWidth="0.0" textAlignment="CENTER" />
                                    <Button fx:id="executeButton" layoutX="105.0" layoutY="269.0" mnemonicParsing="false" onAction="#handleRunExecute" prefHeight="64.0" prefWidth="191.0" text="Execute" />
                                    <ProgressBar fx:id="runProgressBar" layoutX="24.0" layoutY="345.0" prefHeight="20.0" prefWidth="358.0" progress="0.0" />
                                    <Button fx:id="pauseButton" layoutX="37.0" layoutY="234.0" mnemonicParsing="false" onAction="#handleRunPause" prefHeight="54.0" prefWidth="109.0" text="Pause" visible="false" />
                                    <Button fx:id="stopButton" layoutX="289.0" layoutY="234.0" mnemonicParsing="false" onAction="#handleRunStop" prefHeight="54.0" prefWidth="109.0" text="Stop" visible="false" />
                                    <Button fx:id="restartButton" layoutX="160.0" layoutY="396.0" mnemonicParsing="false" onAction="#handleRunRestart" prefHeight="54.0" prefWidth="109.0" text="Restart" visible="false" />
                                 </children>
                              </AnchorPane>
                           </content>
                        </Tab>
                        <Tab fx:id="tabDisplay" text="Display">
                           <content>
                              <StackPane>
                                 <children>
                                    <ListView fx:id="analyseList" onMouseClicked="#analyseListMouseClicked"/>
                                 </children>
                              </StackPane>
                           </content>
                        </Tab>
                    </tabs>
                </TabPane>
                <Plot fx:id="plotArea" prefWidth="866.0" />
              </items>
            </SplitPane>
   </children>
</VBox>
